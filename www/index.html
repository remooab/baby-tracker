<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Simple, calm baby progress tracker for feeding and sleep">
    <meta name="theme-color" content="#F8F6F3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Baby Tracker">

    <title>My Baby Progress Tracker</title>

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Loading Splash Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="56" height="56">
                    <path
                        d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                </svg>
            </div>
            <h2>Baby Tracker</h2>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <div id="authContainer" class="hidden">
        <div class="auth-screen active" id="loginScreen">
            <div class="auth-box">
                <div class="auth-header">
                    <div class="auth-logo">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48"
                            height="48">
                            <path
                                d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                        </svg>
                    </div>
                    <h1>Welcome Back</h1>
                    <p>Track your baby's journey</p>
                </div>
                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" placeholder="mom@example.com" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="primary-btn auth-btn">Log In</button>
                    <div class="auth-footer">
                        <p>Don't have an account? <span class="link" id="showSignup">Sign Up</span></p>
                    </div>
                </form>
            </div>
        </div>

        <div class="auth-screen" id="signupScreen">
            <div class="auth-box">
                <div class="auth-header">
                    <div class="auth-logo">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48"
                            height="48">
                            <polygon
                                points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                        </svg>
                    </div>
                    <h1>Create Account</h1>
                    <p>Start tracking today</p>
                </div>
                <form id="signupForm" class="auth-form">
                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" placeholder="dad@example.com" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="primary-btn auth-btn">Sign Up</button>
                    <div class="auth-footer">
                        <p>Already have an account? <span class="link" id="showLogin">Log In</span></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="app" class="hidden">

        <!-- Navigation -->
        <nav class="bottom-nav" id="bottomNav">
            <button class="nav-item active" data-screen="home">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                <span>Home</span>
            </button>
            <button class="nav-item" data-screen="feeding">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M5 12h14M12 5v14" />
                    <path d="M12 5a7 7 0 0 1 0 14 7 7 0 0 1 0-14z" />
                    <!-- Using a simple plus/circle or similar abstract for feeding if bottle is too specific? 
                         Actually, let's stick to the bottle-like icon but cleaner.
                         The previous icon was a bit complex. Let's use a simple bottle. -->
                    <path d="M9 2v2" />
                    <path d="M15 2v2" />
                    <path d="M12 2v2" />
                    <rect x="7" y="4" width="10" height="16" rx="2" />
                </svg>
                <span>Feeding</span>
            </button>
            <button class="nav-item" data-screen="sleep">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <span>Sleep</span>
            </button>
            <button class="nav-item" data-screen="settings">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path
                        d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                    </path>
                </svg>
                <span>Settings</span>
            </button>
        </nav>

        <!-- Home Screen -->
        <div class="screen active" id="homeScreen">
            <header class="app-header">
                <div class="baby-info" id="babyInfo">
                    <h1 class="baby-name">Hello, Baby</h1>
                    <p class="baby-age">Set up your baby's info in settings</p>
                </div>
            </header>

            <main class="main-content">
                <!-- Quick Stats -->
                <section class="stats-section">
                    <div class="stat-card feeding-stat">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24"
                                height="24">
                                <path d="M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3" />
                                <path d="M7 16v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2" />
                                <path d="M12 3v13" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-label">Last feeding</span>
                            <span class="stat-value" id="lastFeedingTime">No data yet</span>
                        </div>
                    </div>
                    <div class="stat-card sleep-stat">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24"
                                height="24">
                                <path d="M9 18v-6a6 6 0 0 1 6-6h3" />
                                <circle cx="13" cy="12" r="2" />
                                <path d="M13 3L4 14h7v7l9-11h-7z" />
                                <!-- Changed to Zap/Energy for Awake/Sleep or maybe Moon for sleep? 
                                     Let's use a nice Moon for Sleep Stat -->
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-label">Last sleep</span>
                            <span class="stat-value" id="lastSleepTime">No data yet</span>
                        </div>
                    </div>
                </section>

                <!-- Today's Summary -->
                <section class="summary-section">
                    <h2 class="section-title">Today's Summary</h2>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <span class="summary-number" id="todayFeedings">0</span>
                            <span class="summary-label">Feedings</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-number" id="todayAmount">0</span>
                            <span class="summary-label">ml total</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-number" id="todaySleep">0h</span>
                            <span class="summary-label">Sleep</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-number" id="todayNaps">0</span>
                            <span class="summary-label">Naps</span>
                        </div>
                    </div>
                </section>

                <!-- Quick Actions -->
                <section class="actions-section">
                    <h2 class="section-title">Quick Actions</h2>
                    <div class="action-buttons">
                        <button class="action-btn breastfeeding-btn" id="startBreastfeeding">
                            <span class="action-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32"
                                    height="32">
                                    <path
                                        d="M12 21a9 9 0 0 1-9-9c0-3.87 2.4-7.1 5.7-8.4C9.6 3.2 10.8 3 12 3c1.2 0 2.4.2 3.3.6C18.6 4.9 21 8.1 21 12c0 .5-.1 1-.2 1.5" />
                                    <!-- A heart or subtle curve for breastfeeding -->
                                    <path d="M12 21a9.01 9.01 0 0 0 9-9" />
                                    <path d="M12 21v-9" />
                                    <path d="M12 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                                </svg>
                            </span>
                            <span class="action-text">Nursing</span>
                        </button>
                        <button class="action-btn bottle-btn" id="logBottle">
                            <span class="action-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32"
                                    height="32">
                                    <path d="M9 2v2" />
                                    <path d="M15 2v2" />
                                    <path d="M12 2v2" />
                                    <rect x="7" y="4" width="10" height="16" rx="2" />
                                    <path d="M7 9h10" />
                                    <path d="M7 14h10" />
                                </svg>
                            </span>
                            <span class="action-text">Bottle</span>
                        </button>
                        <button class="action-btn vitamin-btn" id="logVitamin">
                            <span class="action-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32"
                                    height="32">
                                    <path d="M12 2a5 5 0 0 1 5 5v10a5 5 0 0 1-10 0V7a5 5 0 0 1 5-5z" />
                                    <path d="M8 7h8" />
                                    <path d="M12 17v-4" />
                                    <path d="M10 13h4" />
                                </svg>
                            </span>
                            <span class="action-text">Vitamin</span>
                        </button>
                        <button class="action-btn sleep-btn" id="startSleep">
                            <span class="action-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32"
                                    height="32">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                    <path d="M12 4v2" />
                                    <path d="M12 18v2" />
                                </svg>
                            </span>
                            <span class="action-text">Sleep</span>
                        </button>
                    </div>
                </section>

                <!-- Active Timer -->
                <section class="active-timer-section hidden" id="activeTimerSection">
                    <div class="active-timer-card" id="activeTimerCard">
                        <div class="timer-header">
                            <span class="timer-type" id="activeTimerType">Breastfeeding</span>
                            <span class="timer-side" id="activeTimerSide"></span>
                        </div>
                        <div class="timer-display" id="activeTimerDisplay">00:00:00</div>
                        <div class="timer-actions">
                            <button class="timer-btn switch-btn" id="switchSideBtn">Switch Side</button>
                            <button class="timer-btn pause-btn" id="pauseTimerBtn">Pause</button>
                            <button class="timer-btn stop-btn" id="stopTimerBtn">Stop</button>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Feeding Log Screen -->
        <div class="screen" id="feedingScreen">
            <header class="screen-header">
                <h1>Feeding Log</h1>
                <button class="add-btn" id="addFeedingBtn">+ Add</button>
            </header>
            <main class="log-content">
                <div class="date-nav">
                    <button class="date-nav-btn" id="feedingPrevDay">←</button>
                    <div class="date-display" id="feedingDateDisplay">
                        <span class="date-title">Today</span>
                        <span class="date-subtitle">--</span>
                    </div>
                    <button class="date-nav-btn" id="feedingNextDay">→</button>
                </div>
                <div class="log-list" id="feedingLogList">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48"
                                height="48">
                                <path d="M9 2v2" />
                                <path d="M15 2v2" />
                                <path d="M12 2v2" />
                                <rect x="7" y="4" width="10" height="16" rx="2" />
                            </svg>
                        </div>
                        <p>No feedings logged yet</p>
                        <p class="empty-hint">Tap the + button to add one</p>
                    </div>
                </div>
            </main>
        </div>

        <!-- Sleep Log Screen -->
        <div class="screen" id="sleepScreen">
            <header class="screen-header">
                <h1>Sleep Log</h1>
                <button class="add-btn" id="addSleepBtn">+ Add</button>
            </header>
            <main class="log-content">
                <div class="date-nav">
                    <button class="date-nav-btn" id="sleepPrevDay">←</button>
                    <div class="date-display" id="sleepDateDisplay">
                        <span class="date-title">Today</span>
                        <span class="date-subtitle">--</span>
                    </div>
                    <button class="date-nav-btn" id="sleepNextDay">→</button>
                </div>
                <div class="sleep-summary" id="sleepSummary">
                    <div class="sleep-bar-container">
                        <div class="sleep-bar" id="sleepBar"></div>
                    </div>
                    <div class="sleep-total">
                        <span id="sleepTotalHours">0h 0m</span> total sleep
                    </div>
                </div>
                <div class="log-list" id="sleepLogList">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48"
                                height="48">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                        </div>
                        <p>No sleep logged yet</p>
                        <p class="empty-hint">Tap the + button to add one</p>
                    </div>
                </div>
            </main>
        </div>

        <!-- Settings Screen -->
        <div class="screen" id="settingsScreen">
            <header class="screen-header">
                <h1>Settings</h1>
            </header>
            <main class="settings-content settings-shell">
                <section class="settings-section">
                    <h2 class="settings-title">Baby Information</h2>
                    <div class="form-group">
                        <label for="babyName">Baby's Name</label>
                        <input type="text" id="babyName" placeholder="Enter baby's name">
                    </div>
                    <div class="form-group">
                        <label for="babyBirthDate">Birth Date</label>
                        <input type="date" id="babyBirthDate">
                    </div>
                    <button class="save-btn" id="saveBabyInfo">Save Baby Info</button>
                </section>

                <section class="settings-section">
                    <h2 class="settings-title">Preferences</h2>
                    <div class="ios-list-group">
                        <div class="ios-row">
                            <span class="ios-label">Volume Unit</span>
                            <select id="volumeUnit" class="ios-inline-select">
                                <option value="ml">ml</option>
                                <option value="oz">oz</option>
                            </select>
                        </div>
                    </div>
                </section>

                <section class="settings-section">
                    <h2 class="settings-title">Notifications</h2>
                    <div class="ios-list-group">
                        <div class="ios-row">
                            <span class="ios-label">Notifications</span>
                            <label class="ios-switch">
                                <input type="checkbox" id="notificationsEnabled">
                                <span class="ios-slider"></span>
                            </label>
                        </div>
                        <div class="ios-row ios-row-stack">
                            <span class="ios-label">System Permission</span>
                            <span class="ios-value" id="notificationPermissionStatus">Not requested</span>
                        </div>
                        <div class="ios-row ios-row-actions">
                            <button class="secondary-btn" id="enableNotifications">Enable Notifications</button>
                            <button class="secondary-btn" id="testNotificationBtn">Send Test Alert</button>
                        </div>
                    </div>

                    <div class="ios-list-group">
                        <div class="ios-row">
                            <span class="ios-label">Live Activity (fallback)</span>
                            <label class="ios-switch">
                                <input type="checkbox" id="liveActivityEnabled">
                                <span class="ios-slider"></span>
                            </label>
                        </div>
                        <div class="ios-row">
                            <span class="ios-label">Awake Alert</span>
                            <label class="ios-switch">
                                <input type="checkbox" id="awakeAlertEnabled">
                                <span class="ios-slider"></span>
                            </label>
                        </div>
                        <div class="ios-row">
                            <span class="ios-label">Awake After (min)</span>
                            <input type="number" class="ios-number" id="awakeAlertMinutes" min="1" max="720" step="1"
                                value="60">
                        </div>
                        <div class="ios-row">
                            <span class="ios-label">Nap Alert</span>
                            <label class="ios-switch">
                                <input type="checkbox" id="napAlertEnabled">
                                <span class="ios-slider"></span>
                            </label>
                        </div>
                        <div class="ios-row">
                            <span class="ios-label">Nap After (min)</span>
                            <input type="number" class="ios-number" id="napAlertMinutes" min="1" max="720" step="1"
                                value="140">
                        </div>
                        <div class="ios-row">
                            <span class="ios-label">Night Sleep Alert</span>
                            <label class="ios-switch">
                                <input type="checkbox" id="nightSleepAlertEnabled">
                                <span class="ios-slider"></span>
                            </label>
                        </div>
                        <div class="ios-row">
                            <span class="ios-label">Night Sleep After (min)</span>
                            <input type="number" class="ios-number" id="nightSleepAlertMinutes" min="1" max="960"
                                step="1" value="240">
                        </div>
                    </div>

                    <button class="save-btn" id="saveNotificationSettings">Save Notifications</button>
                </section>

                <section class="settings-section">
                    <h2 class="settings-title">Account</h2>
                    <p class="user-email-display" id="userEmailDisplay"></p>
                    <button class="secondary-btn hidden" id="openNativeSettingsBtn">Open Native iOS Settings</button>
                    <button class="secondary-btn" id="logoutBtn">Log Out</button>
                </section>

                <section class="settings-section">
                    <h2 class="settings-title">Data</h2>
                    <button class="secondary-btn" id="exportData">Export Data (CSV)</button>
                    <button class="danger-btn" id="clearData">Clear All Data</button>
                </section>

                <section class="settings-section">
                    <h2 class="settings-title">About</h2>
                    <p class="about-text">My Baby Progress Tracker v1.0</p>
                    <p class="about-text">Made with ❤️ for tired parents</p>
                </section>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Breastfeeding Modal -->
    <div class="modal" id="breastfeedingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24"
                        style="vertical-align: text-bottom; margin-right: 8px;">
                        <path
                            d="M12 21a9 9 0 0 1-9-9c0-3.87 2.4-7.1 5.7-8.4C9.6 3.2 10.8 3 12 3c1.2 0 2.4.2 3.3.6C18.6 4.9 21 8.1 21 12c0 .5-.1 1-.2 1.5" />
                        <path d="M12 21a9.01 9.01 0 0 0 9-9" />
                        <path d="M12 21v-9" />
                    </svg>
                    Start Nursing
                </h2>
                <button class="modal-close" data-modal="breastfeedingModal">×</button>
            </div>
            <div class="modal-body">
                <div class="side-selector">
                    <button class="side-btn active" data-side="left">Left</button>
                    <button class="side-btn" data-side="right">Right</button>
                    <button class="side-btn" data-side="both">Both</button>
                </div>
                <div class="form-group">
                    <label>Notes (optional)</label>
                    <textarea id="breastfeedingNotes" placeholder="Any notes..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" data-modal="breastfeedingModal">Cancel</button>
                <button class="primary-btn" id="confirmBreastfeeding">Start Timer</button>
            </div>
        </div>
    </div>

    <!-- Bottle Modal -->
    <div class="modal" id="bottleModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24"
                        style="vertical-align: text-bottom; margin-right: 8px;">
                        <path d="M9 2v2" />
                        <path d="M15 2v2" />
                        <path d="M12 2v2" />
                        <rect x="7" y="4" width="10" height="16" rx="2" />
                    </svg>
                    Log Bottle
                </h2>
                <button class="modal-close" data-modal="bottleModal">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="bottleAmount">Amount</label>
                    <div class="amount-input">
                        <button class="amount-btn minus">−</button>
                        <input type="number" id="bottleAmount" value="60" min="0" step="10">
                        <span class="amount-unit" id="bottleUnit">ml</span>
                        <button class="amount-btn plus">+</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="bottleTime">Time</label>
                    <input type="datetime-local" id="bottleTime">
                </div>
                <div class="form-group">
                    <label>Notes (optional)</label>
                    <textarea id="bottleNotes" placeholder="Any notes..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" data-modal="bottleModal">Cancel</button>
                <button class="primary-btn" id="confirmBottle">Save</button>
            </div>
        </div>
    </div>

    <!-- Formula Modal -->
    <div class="modal" id="formulaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24"
                        style="vertical-align: text-bottom; margin-right: 8px;">
                        <path d="M9 2v2" />
                        <path d="M15 2v2" />
                        <path d="M12 2v2" />
                        <rect x="7" y="4" width="10" height="16" rx="2" />
                        <path d="M7 9h10" />
                        <path d="M7 14h10" />
                    </svg>
                    Log Formula
                </h2>
                <button class="modal-close" data-modal="formulaModal">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="formulaAmount">Amount</label>
                    <div class="amount-input">
                        <button class="amount-btn minus">−</button>
                        <input type="number" id="formulaAmount" value="60" min="0" step="10">
                        <span class="amount-unit" id="formulaUnit">ml</span>
                        <button class="amount-btn plus">+</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="formulaBrand">Brand (optional)</label>
                    <input type="text" id="formulaBrand" placeholder="Formula brand">
                </div>
                <div class="form-group">
                    <label for="formulaTime">Time</label>
                    <input type="datetime-local" id="formulaTime">
                </div>
                <div class="form-group">
                    <label>Notes (optional)</label>
                    <textarea id="formulaNotes" placeholder="Any notes..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" data-modal="formulaModal">Cancel</button>
                <button class="primary-btn" id="confirmFormula">Save</button>
            </div>
        </div>
    </div>

    <!-- Sleep Modal -->
    <div class="modal" id="sleepModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24"
                        style="vertical-align: text-bottom; margin-right: 8px;">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    Start Sleep
                </h2>
                <button class="modal-close" data-modal="sleepModal">×</button>
            </div>
            <div class="modal-body">
                <div class="sleep-type-selector">
                    <button class="sleep-type-btn active" data-type="nap">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16"
                            height="16" style="vertical-align: middle; margin-right: 4px;">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            <!-- Simple moon -->
                        </svg>
                        Nap
                    </button>
                    <button class="sleep-type-btn" data-type="night">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16"
                            height="16" style="vertical-align: middle; margin-right: 4px;">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            <!-- Use same icon or stars? -->
                            <path d="M12 4v2" />
                            <path d="M12 18v2" />
                        </svg>
                        Night Sleep
                    </button>
                </div>
                <div class="form-group">
                    <label for="sleepLocation">Location (optional)</label>
                    <select id="sleepLocation">
                        <option value="">Select location</option>
                        <option value="crib">Crib</option>
                        <option value="bassinet">Bassinet</option>
                        <option value="stroller">Stroller</option>
                        <option value="car">Car seat</option>
                        <option value="arms">In arms</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" data-modal="sleepModal">Cancel</button>
                <button class="primary-btn" id="confirmSleep">Start Sleep Timer</button>
            </div>
        </div>
    </div>

    <!-- Edit Feeding Modal -->
    <div class="modal" id="editFeedingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Feeding</h2>
                <button class="modal-close" data-modal="editFeedingModal">×</button>
            </div>
            <div class="modal-body" id="editFeedingBody">
                <!-- Dynamic content -->
            </div>
            <div class="modal-footer">
                <button class="danger-btn" id="deleteFeedingBtn">Delete</button>
                <button class="primary-btn" id="saveEditFeeding">Save</button>
            </div>
        </div>
    </div>

    <!-- Edit Sleep Modal -->
    <div class="modal" id="editSleepModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Sleep</h2>
                <button class="modal-close" data-modal="editSleepModal">×</button>
            </div>
            <div class="modal-body" id="editSleepBody">
                <!-- Dynamic content -->
            </div>
            <div class="modal-footer">
                <button class="danger-btn" id="deleteSleepBtn">Delete</button>
                <button class="primary-btn" id="saveEditSleep">Save</button>
            </div>
        </div>
    </div>

    <!-- Vitamin Modal -->
    <div class="modal" id="vitaminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24"
                        style="vertical-align: text-bottom; margin-right: 8px;">
                        <path d="M12 2a5 5 0 0 1 5 5v10a5 5 0 0 1-10 0V7a5 5 0 0 1 5-5z" />
                        <path d="M8 7h8" />
                        <path d="M12 17v-4" />
                        <path d="M10 13h4" />
                    </svg>
                    Log Vitamin
                </h2>
                <button class="modal-close" data-modal="vitaminModal">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Vitamin Name</label>
                    <div class="choice-buttons">
                        <button class="choice-btn active" data-vitamin="Vitamin D">Vitamin D</button>
                        <button class="choice-btn" data-vitamin="Iron">Iron</button>
                        <button class="choice-btn" data-vitamin="Multivitamin">Multivitamin</button>
                        <button class="choice-btn" data-vitamin="Probiotic">Probiotic</button>
                    </div>
                    <input type="text" id="vitaminName" placeholder="Or type name..." style="margin-top: 8px;">
                </div>
                <div class="form-group">
                    <label>Time</label>
                    <input type="datetime-local" id="vitaminTime">
                </div>
                <div class="form-group">
                    <label>Notes (optional)</label>
                    <textarea id="vitaminNotes" placeholder="Any notes..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" data-modal="vitaminModal">Cancel</button>
                <button class="primary-btn" id="confirmVitamin">Save</button>
            </div>
        </div>
    </div>

    <!-- Bottle Choice Modal -->
    <div class="modal" id="bottleChoiceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24"
                        style="vertical-align: text-bottom; margin-right: 8px;">
                        <path d="M9 2v2" />
                        <rect x="7" y="4" width="10" height="16" rx="2" />
                    </svg>
                    Bottle content?
                </h2>
                <button class="modal-close" data-modal="bottleChoiceModal">×</button>
            </div>
            <div class="modal-body">
                <div style="display: grid; gap: 16px;">
                    <button class="action-btn" id="choiceBreastMilk"
                        style="background: var(--accent-feeding-light); flex-direction: row; gap: 16px;">
                        <span class="action-icon" style="margin-bottom: 0;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32"
                                height="32">
                                <path
                                    d="M12 21a9 9 0 0 1-9-9c0-3.87 2.4-7.1 5.7-8.4C9.6 3.2 10.8 3 12 3c1.2 0 2.4.2 3.3.6C18.6 4.9 21 8.1 21 12c0 .5-.1 1-.2 1.5" />
                                <path d="M12 21a9.01 9.01 0 0 0 9-9" />
                                <path d="M12 21v-9" />
                                <path d="M12 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                            </svg>
                        </span>
                        <span class="action-text">Breast Milk (Pumped)</span>
                    </button>
                    <button class="action-btn" id="choiceFormula"
                        style="background: var(--accent-formula); flex-direction: row; gap: 16px;">
                        <span class="action-icon" style="margin-bottom: 0;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32"
                                height="32">
                                <path d="M9 2v2" />
                                <path d="M15 2v2" />
                                <path d="M12 2v2" />
                                <rect x="7" y="4" width="10" height="16" rx="2" />
                                <path d="M7 9h10" />
                                <path d="M7 14h10" />
                            </svg>
                        </span>
                        <span class="action-text">Formula</span>
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="cancel-btn" data-modal="bottleChoiceModal" style="width: 100%;">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Active Sleep Indicator -->
    <div class="active-sleep-banner hidden" id="activeSleepBanner">
        <div class="sleep-banner-content">
            <span class="sleep-banner-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="24" height="24">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </span>
            <div class="sleep-banner-info">
                <span class="sleep-banner-label">Baby is sleeping</span>
                <span class="sleep-banner-time" id="sleepBannerTime">00:00:00</span>
            </div>
            <div class="sleep-banner-actions">
                <button class="pause-sleep-btn" id="pauseSleepBtn">Pause</button>
                <button class="wake-btn" id="wakeUpBtn">Wake Up</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast hidden" id="toast">
        <span id="toastMessage"></span>
    </div>

    <!-- App Confirmation Dialog -->
    <div class="dialog-backdrop hidden" id="appDialogBackdrop">
        <div class="dialog-card" role="dialog" aria-modal="true" aria-labelledby="appDialogTitle">
            <h3 id="appDialogTitle">Please confirm</h3>
            <p id="appDialogMessage">Are you sure?</p>
            <div class="dialog-actions">
                <button class="secondary-btn" id="appDialogCancel">Cancel</button>
                <button class="primary-btn" id="appDialogConfirm">Continue</button>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>